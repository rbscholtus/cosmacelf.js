<!DOCTYPE html>
<html>
<head>
<title>CosmacElf emulator</title>
<meta charset='UTF-8'>
<script src='js/cdp1802.js'></script>
<script src='js/raf.js'></script>
<script src='js/cosmacelf.js'></script>
<script src='js/jquery-1.9.1.min.js'></script>
<script>
 // execute when whole page is fully loaded
$(window).load(function() {
	// get graphics
	var offImg = document.getElementById('cosmacOffImage');
	var onImg = document.getElementById('cosmacOnImage');
	var ledOnImg = document.getElementById('ledOnImage');
	var hexImg = document.getElementById('displayImage');
	
	// get drawing context and draw initial image
	var c = document.getElementById('elfCanvas');
	var ctx = c.getContext('2d');
	ctx.drawImage(offImg, 0, 0);
	
	// start emulation
	var emu = new CosmacElfObj(c, ctx, offImg, onImg, ledOnImg, hexImg);
	emu.emulate();
});
</script>
</head>
<body>
<img id='cosmacOffImage' src='images/cosmac-off.png' alt='Cosmac Elf with switches off' style='display:none;' />
<img id='cosmacOnImage' src='images/cosmac-on.png' alt='Cosmac Elf with switches on' style='display:none;' />
<img id='ledOnImage' src='images/led-on.png' alt='Cosmac Elf LED in on state' style='display:none;' />
<img id='displayImage' src='images/display.png' alt='All digits of the hex display' style='display:none;' />

<h2>Cosmac Elf emulator in JavaScript</h2>
<canvas id='elfCanvas' width='452' height='415'>
Your browser does not support the HTML5 canvas tag.</canvas>

<h3>Controls:</h3>
<table border="1">
<tbody><tr><td>a..f</td><td>Flip switches 7..4</td></tr>
<tr><td>j..;</td><td>Flip switches 3..0</td></tr>
<tr><td>SPACE</td><td>Press IN</td></tr>
<tr><td>g</td><td>Flip Load switch</td></tr>
<tr><td>h</td><td>Flip Memory Protect switch</td></tr>
<tr><td>ENTER</td><td>Flip Run switch</td></tr>
</tbody></table>

<h3>Links</h3>
<ul>
<li><a href="http://www.cosmacelf.com/" target="_blank">cosmacelf.com</a> is a comprehensive site dedicated to the 1802 CPU</li>
<li><a href="http://www.elf-emulation.com/" target="_blank">elf-emulation.com</a>, another comprehensive site about Elf emulation</li>
<li>"<a href="http://incolor.inetnebr.com/bill_r/elf/html/elf-1-33.htm" target="_blank">Build The COSMAC ELF (part 1)</a>", Joseph Weisbecker's 1976 article in Popular Electronics that describes how to build the Cosmac Elf.</li>
<li>Tom Pittman's 1802 programming tutorial: "<a href="http://www.cosmacelf.com/shortcourse.htm" target="_blank">A Short Course in Programming</a>"</li>
</ul>

</body>
</html>